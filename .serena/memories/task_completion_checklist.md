# 任务完成检查清单

## 每次代码修改后必须执行

### 1. 编译和测试检查
```bash
# 后端检查 (必须无警告、无失败)
cargo check && cargo test --workspace

# 前端检查 (必须通过)
cd web-ui && npm run lint && npm run type-check
```

### 2. 代码质量检查
- 删除未使用的导入和变量
- 清理注释掉的代码块  
- 移除废弃的函数和类型
- 确保代码可读性

### 3. 目录整理检查
- 文件是否放在正确的目录层级
- 模块依赖关系是否清晰
- 命名是否符合项目约定
- 必要时重新组织文件结构

### 4. 生产级数据政策检查
- ❌ 禁止任何模拟/假数据
- ✅ 必须连接真实PLC设备 (192.168.x.x)
- ✅ 必须使用真实传感器数据
- ❌ 禁止localhost连接和测试数据

### 5. 深度思考检查
遇到以下情况必须有💭 Thoughts注释：
- 新增/修改 ≥30 行代码
- 影响多个模块/层
- 涉及并发、异步、性能优化
- 前后端接口变更

## 功能开发完成检查

### 6. 新功能完整性
- [ ] 领域模型定义完整 (`models.rs`)
- [ ] 数据层实现 (Repository trait + PG实现)
- [ ] API层完整 (DTO + 路由 + OpenAPI)
- [ ] 前端完整 (API客户端 + Store + 组件)
- [ ] 测试覆盖 (单元测试 + 集成测试)

### 7. 部署准备检查
- [ ] 配置文件正确
- [ ] 环境变量设置
- [ ] Docker镜像构建成功
- [ ] 健康检查端点响应正常

## 禁止的操作

### 8. 严格禁止项
- ❌ 自动启动服务 (仅编译和测试)
- ❌ 使用任何Mock数据
- ❌ 提交有警告的代码
- ❌ 跳过测试验证

## MCP工具优先使用

### 9. 工具选择策略
对于需要外部工具的任务，优先检查MCP工具：
- 浏览器自动化测试 → MCP浏览器工具
- 外部系统集成 → MCP连接器
- 系统操作 → MCP系统工具

## 最终确认

### 10. 交付前检查
- [ ] 所有测试通过
- [ ] 代码无警告
- [ ] 文档更新完整
- [ ] 功能验证完成
- [ ] 性能指标正常