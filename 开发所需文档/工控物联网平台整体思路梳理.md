# å·¥ä¸šç‰©è”ç½‘é€šç”¨å¹³å°ï¼ˆRust æ ˆï¼‰  
*â€“â€“é•¿æœŸä¸ªäººé¡¹ç›®çš„ 20 å¹´è·¯çº¿å›¾ & åŠŸèƒ½è“å›¾â€“â€“*  
> **ä½œè€…**ï¼šä½ ï¼ˆå•å…µ + ç¤¾åŒºåä½œè€…ï¼‰â€ƒ  
> **åˆç¨¿**ï¼š2025-07-12â€ƒ  
> **ç›®çš„**ï¼šæŠŠâ€œè¯»æ•°æ®â†’åšå†³ç­–â†’å†™æ§åˆ¶â†’åè®®äº’è½¬â€ å…¨é“¾åˆ°ä¸€å¼ å¯è¿­ä»£çš„è“å›¾ï¼Œ  
> è®©ä»»ä½•é˜¶æ®µéƒ½èƒ½ **åœä¸‹æ¥è½åœ°**ï¼Œåˆèƒ½ **éšæ—¶ç»§ç»­é•¿é«˜**ã€‚

---

## 0. Executive Summary  
### 0.1 è®¾è®¡ä¿¡æ¡ï¼ˆWhy This Architectureï¼‰

|ä¿¡æ¡|é‡Šä¹‰ & èƒŒåæ¨ç†|
|---|---|
|**æ•°æ®å…ˆè¡Œ**|å…ˆæŠŠä¸€åˆ‡ç°åœºæ•°æ®è½¬æˆâ€œ**Canonical Frame**â€å¹¶å†™å…¥ **Frame Bus**ï¼›ä»»ä½•ä¸šåŠ¡ï¼ˆäº‘ä¸Šä¼ ã€æŠ¥è­¦ã€äº’è½¬ã€å†™æ§åˆ¶ï¼‰éƒ½åªéœ€è®¢é˜…/å‘å¸ƒ Frameã€‚â†’ **æŠŠå¤æ‚åº¦å‹ç¼©åˆ°å•ç‚¹**ï¼›æ•°æ®å³ APIã€‚|
|**å¢é‡å¯åœ**|æ¯è¿­ä»£é‡Œç¨‹ç¢‘ï¼ˆMVP-0/1/2/â€¦ï¼‰éƒ½èƒ½åœ¨ç”Ÿäº§è½åœ°ã€äº§ç”Ÿä»·å€¼ï¼›ä»»ä½•æ—¶å€™åœä¸‹ä¹Ÿä¸æ˜¯åŠæˆå“ã€‚â†’ ä¸ªäººé¡¹ç›®çš„ç”Ÿå­˜æ³•åˆ™ã€‚|
|**æ’ä»¶ç”Ÿæ€**|åè®®é©±åŠ¨ã€æ¡¥æ¥æœåŠ¡å™¨ã€äº‘è¿æ¥å™¨ã€è§„åˆ™è„šæœ¬éƒ½ä»¥ **Dyn/WASM æ’ä»¶** å½¢æ€å­˜åœ¨ï¼›å†…æ ¸åªå…³å¿ƒåŠ è½½ä¸è°ƒåº¦ã€‚â†’ åŠŸèƒ½å¯å¤–åŒ…ï¼Œç¤¾åŒºå¯å‚ä¸ï¼Œå•†ä¸šé—­æºæ’ä»¶ä¹Ÿå¯å¹¶å­˜ã€‚|
|**æŠ€æœ¯åŠè¡°æœŸ â‰¥ 10 å¹´**|å†…æ ¸ä¾èµ– Rust / Protobuf / RocksDB / Tokioï¼šè¿™äº›æŠ€æœ¯æ ˆå·²åœ¨ä¼ä¸šçº§ç”Ÿäº§éªŒè¯ä¸”æ›´æ–°èŠ‚å¥æ¸©å’Œï¼›å¯é¿å… 3-5 å¹´å³è¢«æ·˜æ±°ã€‚|

---

### 0.2 ä¸‰æ¡ä»·å€¼æ›²çº¿ï¼ˆHow It Pays Offï¼‰

|æ›²çº¿|0-2 å¹´|3-5 å¹´|6-10 å¹´|
|---|---|---|---|
|**ä¸ªäººæŠ€èƒ½ & å½±å“åŠ›**|å‘å¸ƒ MVP-0 å¼€æºï¼›åšå®¢ & æ¼”è®² â†’ è¡Œä¸šå¯è§åº¦|ç»´æŠ¤ç¤¾åŒºï¼›å—é‚€åŸ¹è®­/å’¨è¯¢|æ ¸å¿ƒ Maintainer / é¡¹ç›®â€œBDFLâ€|
|**å•†ä¸šåŒ–æœºä¼š**|å®šåˆ¶é›†æˆï¼ˆä¸€äººå…¬å¸å¤–åŒ…ï¼‰|æ’ä»¶å¸‚åœºæŠ½ä½£ï¼›ä»˜è´¹æ¡¥æ¥é©±åŠ¨|SaaSï¼ˆAI é¢„æµ‹ / èƒ½è€—ä¼˜åŒ–ï¼‰è®¢é˜…|
|**è¡Œä¸šä»·å€¼**|ä½æˆæœ¬ç°åœºæ•°æ®ä¸Šäº‘è§£å†³æ–¹æ¡ˆ|Legacy ç³»ç»Ÿå¹³æ»‘å‡çº§è·¯å¾„|å¼€æºå·¥ä¸šç‰©è”ç½‘â€œäº‹å®æ ‡å‡†â€|

---

### 0.3 æ ¸å¿ƒé‡Œç¨‹ç¢‘ä¸€è§ˆï¼ˆWhat Gets Builtï¼‰

|é‡Œç¨‹ç¢‘|åŠŸèƒ½è¦†ç›–|ä¸ªäººæŠ•å…¥ï¼ˆå‘¨æœ«äººæœˆï¼‰|é€€å‡ºç‚¹ä»·å€¼|
|---|---|---|---|
|**MVP-0**|å¤šåè®®åªè¯» â†’ MQTT ä¸Šäº‘|â‰ˆ3 æœˆ|å¯å•†ç”¨è¾¹ç¼˜é‡‡é›†ç½‘å…³|
|**MVP-1**|DynDriver çƒ­æ’æ‹”|+1 æœˆ|æ’ä»¶ç”Ÿæ€é›å½¢|
|**MVP-2**|CmdFrame + äº‘å†™ PLC|+1 æœˆ|è¿œç¨‹è°ƒåº¦ / è®¾å®šå€¼|
|**MVP-3**|å•å‘åè®®æ¡¥ (OPC UA Server)|+1.5 æœˆ|æ—§ SCADA æ— ç¼è¿ç§»|
|**MVP-4**|Mapping DSL + åŒå‘æ¡¥|+2 æœˆ|çœŸæ­£å¤šåè®®äº’è½¬ + æœ¬åœ°å‘Šè­¦|

> **ä»»æ„ MVP å®Œæˆå³å¯åœæ›´**â€”â€”é¡¹ç›®ä»èƒ½åœ¨ç”Ÿäº§ç”¨ï¼Œä¸ªäººä¹Ÿå¾—åˆ°å¯å±•ç¤ºæˆæœã€‚

---

### 0.4 é£é™©ä¸å¯¹ç­–ï¼ˆWhat Can Go Wrong â†’ Mitigationï¼‰

|é£é™©ç‚¹|è§¦å‘æ¡ä»¶|ç¼“è§£ç­–ç•¥|
|---|---|---|
|**æ—¶é—´ç¢ç‰‡**|æ­£èŒ/ç”Ÿæ´»å ç”¨|è·¯çº¿æŒ‰ 4-6 å‘¨ç²’åº¦äº¤ä»˜ï¼›æ¯å‘¨è‡³å°‘â€œCommit + åšå®¢â€ å¯è§è¿›å±•|
|**åŠŸèƒ½è†¨èƒ€**|å®¢æˆ·ä¸´æ—¶è¦æ–°åè®®|åšæŒâ€œæ’ä»¶è´¡çŒ®â€åŸåˆ™ï¼›æ ¸å¿ƒåªåšåŠ è½½|
|**æŠ€æœ¯æ›¿æ¢**|æ–°æ½®æ€»çº¿/äº‘åè®®å‡ºç°|ä¿æŒ Canonical Frame ä¸å˜ â†’ å†™æ–° Connector æ’ä»¶å³å¯|
|**å•ç‚¹å´©æºƒ**|ä¸ªäººä¸å¯æŠ—æ„å¤–|GitHub MIT å¼€æºï¼›æ–‡æ¡£å®Œå¤‡ï¼›é¼“åŠ±ç¤¾åŒº PR|

---

### 0.5 æˆåŠŸå®šä¹‰ï¼ˆDefinition of Done 10-Yearï¼‰

- **æŠ€æœ¯**ï¼š100 + å·¥ä¸šåè®®é©±åŠ¨ã€20 + äº‘è¿æ¥å™¨ã€ä¸»å¹² CI ç»¿ç¯ã€‚
    
- **ç¤¾åŒº**ï¼šâ‰¥ 500 starã€â‰¥ 50 å¤–éƒ¨ PRã€â‰¥ 5 å…¬å¸åœ¨ç”Ÿäº§ä½¿ç”¨ã€‚
    
- **å•†ä¸š**ï¼šæ’ä»¶å¸‚åœºå¹´ GMV â‰¥ ï¿¥5 0 ä¸‡ï¼›æˆ– SaaS MRR â‰¥ ï¿¥2 ä¸‡ã€‚
    
- **ä¸ªäºº**ï¼šæˆä¸ºâ€œå·¥ä¸šåè®® + Rust è¾¹ç¼˜ç½‘å…³â€ é¢†åŸŸå…¬è®¤ä¸“å®¶ï¼Œè®²å¸ˆ / ä¹¦ç± / å’¨è¯¢çš†å¯ã€‚

## 1. åˆ†å±‚è§†å›¾ï¼ˆL0â€“L7ï¼‰
**é˜…è¯»æŒ‡åŒ—**

- å…ˆçœ‹ â€œä¸€å¥è¯ç”»åƒâ€ æŠ“ä½å®šä½
    
- å†çœ‹ â€œæ ¸å¿ƒæ¥å£ / æ•°æ®ç»“æ„â€ ç›´æ¥å¯ç¼–ç 
    
- â€œé¦–ç‰ˆæœ€å°å®ç°â€ å¸®ä½ è¯„ä¼°å·¥ä½œé‡
    
- â€œæ‰©å±•æƒ³è±¡â€ è®© 5-10 å¹´åä¹Ÿæœ‰å‡çº§ç©ºé—´
    
- â€œè‡ªæµ‹æ¸…å•â€ ç¡®ä¿æ¯å±‚å¯ç‹¬ç«‹éªŒæ”¶
### **L0 EndpointKit â€”ã€Œè¿å¾—ä¸Šã€**

|é¡¹|è¯´æ˜ & å»ºè®®|
|---|---|
|**ä¸€å¥è¯ç”»åƒ**|ç°åœºæ‰€æœ‰ç‰©ç† / ä¼ è¾“ / åŠ å¯†é“¾è·¯çš„ä¸€ç«™å¼æŠ½è±¡ä¸é‡ç”¨|
|**æ ¸å¿ƒæ¥å£**|`EndpointFactory::from_url(&str) -> EndpointPool`  <br>`EndpointPool::acquire() -> PooledConn` (AsyncRead + AsyncWrite)|
|**å…³é”®æ•°æ®ç»“æ„**|`EndpointUrl { scheme, host, port, query<HashMap>, cred<Option> }`|
|**é¦–ç‰ˆæœ€å°å®ç°**|â€¢ `tcp` / `serial` / `tls+tcp` ä¸‰ç§  <br>â€¢ è¿æ¥æ± åŸºäº `bb8`ï¼Œmax = 8|
|**æ‰©å±•æƒ³è±¡**|+ `dtls+udp`ã€`quic`ã€`prp+tcp`ã€`tsn+tcp`ï¼›é™é€Ÿè£…é¥°å™¨ï¼›è¯ä¹¦è‡ªåŠ¨è½®æ¢|
|**è‡ªæµ‹è¯•æ¸…å•**|â‘  åŒ URL å¤ç”¨è¿æ¥æ•° â‰¤1  <br>â‘¡ TLS æ¡æ‰‹å¤±è´¥è‡ªåŠ¨é™çº§é‡è¿  <br>â‘¢ ä¸²å£åŠåŒå·¥ä¸‹ 1 s è¯»å†™æ— å¡é¡¿|

---

### **L1 Driver Runtime â€”ã€Œå¬å¾—æ‡‚ã€**

|é¡¹|è¯´æ˜|
|---|---|
|**ä¸€å¥è¯ç”»åƒ**|æŠŠç¬¬ä¸‰æ–¹åè®®åº“å°è£…æˆç»Ÿä¸€ `Driver` traitï¼Œå¯é™æ€ã€åŠ¨æ€ã€WASM ä¸‰ç§å½¢æ€åŠ è½½|
|**Driver Trait**|`rust\nasync trait Driver {\n fn meta(&self)->DriverMeta;\n async fn connect(&mut self, pool:&EndpointPool, cfg:Value)->Result<()>;\n async fn read_loop(&mut self, tx:FrameSender);\n async fn write(&mut self, cmd:CmdFrame)->Result<()>;\n}\n`|
|**åŠ è½½å™¨**|- Staticï¼š`inventory` æ”¶é›†  <br>- Dyn `.so`ï¼š`libloading`, çº¦å®š `register_driver()`  <br>- WASMï¼š`wasmtime` + WASI `edge-driver/0.2`|
|**ç”Ÿå‘½å‘¨æœŸ**|`Loading â†’ Init â†’ Connected â†’ Active (+Write) â†’ Error/Backoff â†’ Shutdown`|
|**é¦–ç‰ˆæœ€å°å®ç°**|Static Modbus Reader + Dyn OPC UA Readerï¼ˆå†™=æœªå®ç°ï¼‰|
|**æ‰©å±•æƒ³è±¡**|- çƒ­å‡çº§ `.so` ç§’çº§æ›¿æ¢  <br>- ç¬¬ä¸‰æ–¹ç”¨ Go â†’ wasm32-wasi|
|**è‡ªæµ‹è¯•æ¸…å•**|â‘  Driver panic ä¸å½±å“å…¶å®ƒ  <br>â‘¡ `.so` ABI ç‰ˆæœ¬ä¸åŒ¹é…æ‹’è½½  <br>â‘¢ WASM æ²™ç®±è¶Šç•Œ trap ä¸å´©ä¸»ç¨‹|

---

### **L2 Canonical Frame Bus â€”ã€Œæµå¾—èµ·ã€**

|é¡¹|è¯´æ˜|
|---|---|
|**ä¸€å¥è¯ç”»åƒ**|ç«™åœºæ•°æ®/å‘½ä»¤çš„å”¯ä¸€äº‹ä»¶æ€»çº¿ + æŒä¹… WAL|
|**Frame Struct**|`DataFrame` & `CmdFrame` (è§ 0 ç« )|
|**å®ç°**|`tokio::sync::broadcast`(ring=256 k) + RocksDB CF `frames`|
|**èƒŒå‹ç­–ç•¥**|Ring > 80 % â†’ Pause ä¿¡å·; <60 % â†’ Resume|
|**é¦–ç‰ˆæœ€å°å®ç°**|å†…å­˜ ring=8 kï¼›WAL å†™å…¥ä½†ä¸å›æ”¾|
|**æ‰©å±•æƒ³è±¡**|- æ›¿æ¢ä¸º NATS JetStreamï¼›  <br>- Arrow Flight åˆ†å¸ƒå¼|
|**è‡ªæµ‹è¯•æ¸…å•**|â‘  50 k fps å‹æµ‹æ— ä¸¢å¸§  <br>â‘¡ æ–­ç½‘ 1 h å WAL é‡æ”¾æ­£ç¡®é¡ºåº|

---

### **L3 Mapper / Rule â€”ã€Œçœ‹å¾—æ‡‚ã€**

|é¡¹|è¯´æ˜|
|---|---|
|**ä¸€å¥è¯ç”»åƒ**|æŠŠåŸå§‹ Tag â†’ ä¸šåŠ¡ Tag + å•ä½æ¢ç®— / çª—å£è®¡ç®— / å‘Šè­¦|
|**DSL**|YAML `variables.yml` + `expr` (Lua)ï¼›`when: data|
|**æ‰§è¡Œ**|è§£æ â†’ AST â†’ LuaJIT / Wasmtime  <br>å†·çƒ­åŒè¡¨åˆ‡æ¢ä¿è¯é›¶ä¸¢å¸§|
|**é¦–ç‰ˆæœ€å°å®ç°**|ä»… `scale` è¡¨è¾¾å¼ + Tag rename|
|**æ‰©å±•æƒ³è±¡**|- ONNX æ¨ç†  <br>- MLFlow æ¨¡å‹çƒ­åŠ è½½|
|**è‡ªæµ‹è¯•æ¸…å•**|â‘  çƒ­åŠ è½½ 10 k æ¡æ˜ å°„ <300 ms  <br>â‘¡ è¡¨è¾¾å¼å¼‚å¸¸æ—¶ Tag è·³è¿‡å¹¶æŠ¥è­¦|

---

### **L4 Northbound Connector â€”ã€Œé€ä¸Šå»ã€**

|åè®®æ’ä»¶|è¦ç‚¹|
|---|---|
|MQTT 5|QoS2, Retain, Batch 32, zstd|
|gRPC-stream|Prost, 1 MiB/batch or 1 s flush|
|REST Batch|`POST /frames?range=seq`|
|_é¦–ç‰ˆ_|ä»… MQTT 5 + TLS|
|_æ‰©å±•_|Kafka, Arrow Flight, Influx Line Proto|
|_æµ‹è¯•_|äº‘æ–­å¼€â†’ç¦»çº¿ç¼“å­˜ 100 MB åæ—  OOMï¼Œé‡è¿å…¨è¡¥å‘|

---

### **L5 Protocol Bridge â€”ã€Œæ—§å‹èƒ½ç”¨ã€**

|æ¨¡å—|åŠŸèƒ½|é¦–ç‰ˆ|
|---|---|---|
|OPC UA Server|æŠŠ Frame â†’ UA Nodeï¼›UA Write â†’ CmdFrame|ç¡¬ç¼–ç  10 Node|
|Modbus-Slave|Map Tag â†” Regï¼›WriteSingle â†’ Cmd|-|
|_æ‰©å±•_|IEC-104 Server, BACnet|-|
|_æµ‹è¯•_|UA Browse + Read + Write E2E diff Tag||

---

### **L6 Config / Orchestration**

|éƒ¨ä»¶|å†…å®¹|
|---|---|
|ä¸‰è¡¨|`endpoints.yml`, `drivers.yml`, `variables.yml`|
|é…ç½®ä¸­å¿ƒ|etcd/Consulï¼›CLI `edge-cfg set driver/mb1 <file>`|
|çƒ­æ›´æ–°æµç¨‹|etcd watch â†’ diff â†’ Reload subset|
|JSON-Schema|æ¯é©±åŠ¨é™„ `driver.schema.json`|
|é¦–ç‰ˆ|æœ¬åœ° YAML + inotify çƒ­åŠ è½½|

---

### **L7 Observability & Ops**

| ç±»åˆ«          | å®ç°                               | MVP æŒ‡æ ‡                                  |
| ----------- | -------------------------------- | --------------------------------------- |
| Metrics     | `prometheus_exporter`            | `edge_frame_latency_ms`, `edge_bus_lag` |
| Logs        | `tracing_json` â†’ Loki            | å¸¦ `driver_id`                           |
| Web Console | Upload `.so/.wasm`; view metrics | åå° RESTâ†’å‰ç«¯ Svelte                       |
| OTA         | Ansible playbook / Helm chart    | å•ç«™å‡çº§ <1 min                             |
### è·¯çº¿æç¤º

- **MVP-0** åªè¦ L0/L1(Static)/L2/L4(MQTT) + YAML Endpoint/Driver/Var ä¸‰è¡¨ï¼Œå…¶ä»–å±‚ç•™ç©ºã€‚
    
- æ¯æ™‹çº§ä¸€å±‚åªåœ¨â€œä¸Šä¸€å±‚å·²æœ‰äº§ç‰©â€ä¸Š**åŠ ä»£ç æ–‡ä»¶**ï¼Œä¸æ”¹æ¥å£ï¼Œç¡®ä¿èŠ‚å¥ä¸å´©ã€‚
    
## 2. ä¸‰å¤§åŠŸèƒ½åŸŸ & å…¸å‹æµå‘
> é‡‡é›†ä¸Šäº‘ (F-A) â”‚ äº‘å†™ç°åœº (F-B) â”‚ ç°åœºåè®®äº’è½¬ (F-C)  
> å¤šæ•°ç«™åœº **80 / 15 / 5** çš„éœ€æ±‚å æ¯”ï¼›å…ˆåƒ F-Aï¼ŒåæŒ‰éœ€æ’ B & Cã€‚
### 2.1 F-A ç°åœºé‡‡é›† â†’ äº‘ç«¯æ¶ˆè´¹ï¼ˆ**è¯»å–ä¸»æµ**ï¼‰

|ç»´åº¦|è¯¦ç»†è¯´æ˜|
|---|---|
|**å‚ä¸è€…**|**SourceDriver** â†’ **Frame Bus** â†’ **NorthConnector** â†’ Cloud Broker/DB|
|**å…¸å‹æ—¶åº**|`mermaid\nsequenceDiagram\n SourceDrv->>PLC: Read PDU\n SourceDrv-->>Bus: DataFrame(tag,val,ts)\n NorthConn-->>Bus: subscribe()\n NorthConn->>Cloud: MQTT PUBLISH (batch)\n`|
|**API / ç»“æ„**|`DataFrame{tag,value,ts,qos}` â†’ MQTT topic `/tenant/device/tag` (JSON)|
|**é¦–ç‰ˆæœ€å°å®ç°**|Modbus Reader + MQTT 5 Connectorï¼›frame rate â‰¥ 5 k/s|
|**å¯é€‰æ‰©å±•**|+ OPC UA Readerï¼›+ Kafka Connectorï¼›Influx Line Proto|
|**æµ‹è¯•æ¸…å•**|â‘  æ–­ç½‘ 1 h â†’ WAL è¡¥å‘ = 100 %  <br>â‘¡ 50 k tags/s å‹æµ‹ CPU < 50 %|

---

### 2.2 F-B äº‘ä¾§å†™å…¥ â†’ ç°åœºæ‰§è¡Œï¼ˆ**å°‘é‡è®¾å®šå€¼ / å‘½ä»¤**ï¼‰

|ç»´åº¦|è¯¦ç»†è¯´æ˜|
|---|---|
|**å‚ä¸è€…**|Cloud App â†’ **Cmd API (NorthConnector)** â†’ **Frame Bus** â†’ **SinkDriver** â†’ è®¾å¤‡|
|**æ•°æ®æ¨¡å‹**|`CmdFrame{tag, value, origin}`  <br>`origin="north"` or UA server|
|**å†™æ¥å£é€‰é¡¹**|_REST_ `PUT /tags/{tag}` JSON  <br>_MQTT_ `cmd/{tag}` payload Frame JSON|
|**ç°åœºæ‰§è¡Œ**|SinkDriver æŸ¥ `tag â†’ address` è¡¨ â†’ æ„é€ åè®®å†™ PDU|
|**ACK æµå‘**|æˆåŠŸå SinkDriver ç”Ÿæˆ `CmdAckFrame` â†’ Bus â†’ äº‘ä¾§è®¢é˜…è€…|
|**é¦–ç‰ˆæœ€å°å®ç°**|REST PUT â†’ Modbus WriteSingleRegister|
|**å®‰å…¨/é‰´æƒ**|JWT token _tenant + scope=write_ï¼›Cmd API éªŒè¯ `access âˆˆ {W,RW}`|
|**ç›‘æ§**|metric `edge_write_error_total{tag}`ï¼›Loki æ—¥å¿—å« `origin`|

---

### 2.3 F-C ç°åœº â†” ç°åœº åè®®äº’è½¬ï¼ˆ**é•¿å°¾ä¸ªæ€§åŒ–**ï¼‰

|ç±»å‹|æµå‘|é€‚ç”¨åœºæ™¯|æŠ€æœ¯è¦ç‚¹|
|---|---|---|---|
|**å•å‘Â·åªè¯»æ¡¥**|Modbus â†’ UA-Server|è®©æ—§ SCADA ç»§ç»­è¯»æ–° PLC|BridgeDriver ä»…è®¢ `DataFrame`ï¼›UA æµè§ˆæ ‘ç¡¬ç¼–ç  / æ˜ å°„ç”Ÿæˆ|
|**åŒå‘Â·è¯»å†™æ¡¥**|OPC UA Server â€¹â€”â€º Modbus|SCADA å†™è®¾å®š â†’ PLC|UA Write äº‹ä»¶ â†’ `CmdFrame` â†’ SinkDriver|
|**å¤šåè®® Hub**|Modbus + S7 â†’ BACnet â†’ BMS|å¤§æ¥¼ç³»ç»Ÿéœ€è¦ BACnet|å¤š BridgeDriver å®ä¾‹è®¢åŒä¸€ Bus|
|**å®ç°å½¢æ€**|BridgeDriver = _ç‰¹æ®Š_ Sink+Source|ä½¿ç”¨åŒä¸€ `Driver` traitï¼›Type=Bridge||
|**é¦–ç‰ˆæœ€å°å®ç°**|10 Tag UA Serverï¼Œç¡¬ç¼–ç æ˜ å°„|||
|**æ‰©å±•**|è‡ªåŠ¨æ‰«æ `variables.yml` **access=R** â†’ ç”Ÿæˆ Address Spaceï¼›æˆ–è„šæœ¬ DSL|||

---

### 2.4 åŠŸèƒ½åŸŸäº¤äº’çŸ©é˜µ

|è§¦å‘æº|äº§ç‰©|è¢«è°æ¶ˆè´¹|å…¸å‹é“¾è·¯|
|---|---|---|---|
|SourceDriver|**DataFrame**|Cloud DB (F-A)ï¼ŒBridge Srv (F-C)|Readâ†’Busâ†’MQTT + UA Srv|
|Cloud CmdAPI|**CmdFrame**|SinkDriver (F-B)ï¼ŒBridge Srv (å†™å›)|PUTâ†’Busâ†’ModbusWrite|
|Bridge UA-Write|**CmdFrame**|SinkDriver (F-B)|UA Writeâ†’Cmdâ†’Busâ†’WriteReg|
|Local Rule (alarm)|**DataFrame**|MQTT + SMS|Ruleâ†’Busâ†’MQTT|

---

### 2.5 è·¯çº¿ä¼˜å…ˆçº§ vs å·¥ä½œé‡ (ä¸ªäººè§†è§’)

|é˜¶æ®µ|å®ŒæˆåŸŸ|ç´¯è®¡äººæœˆ|å¯äº¤ä»˜|
|---|---|---|---|
|MVP-0|F-A|3|äº‘ä¾§å¯è§†åŒ–|
|MVP-2|F-A + å†™æœ€å°é—­ç¯|5|è¿œç¨‹è°ƒå‚|
|MVP-3|+ å•å‘æ¡¥ (F-C è¯»)|6.5|æ—§ SCADA è¯»æ–° PLC|
|MVP-4|+ åŒå‘æ¡¥|8.5|æ—§ SCADA å†™è®¾å®š|

---

> **å†³ç­–æŒ‡å—**
> 
> - å¦‚æœ 90 % ç«™åœºåªéœ€ â€œè¯»â†’äº‘â€ï¼Œ**åœåœ¨ F-A**ã€‚å†™ç”¨æ‰‹åŠ¨ HMI å³å¯ã€‚
>     
> - è‹¥å¶å‘è®¾ç½®å€¼ã€æ¯”ä¾‹å° â†’ **REST + CmdFrame**ï¼Œä¸åšæ¡¥ï¼Œç®€å•å†™å›å³å¯ã€‚
>     
> - åªæœ‰åœ¨ â€œå¿…é¡»ä¸æ”¹æ—§ç³»ç»Ÿâ€ ä¸” å†™æµé‡å¯æ§ æ—¶ï¼Œå†æŠ• F-Cï¼Œä¸”å…ˆåš **å•å‘è¯»æ¡¥**ï¼Œçœ‹ä»·å€¼å†åšåŒå‘ã€‚
>

## 3. è¿­ä»£è·¯çº¿ï¼ˆå•äºº / ä¸šä½™ï¼‰

> å‡è®¾ï¼šå¹³å‡æ¯å‘¨ 8-10 h æŠ•å…¥ï¼ˆå‘¨æœ« + é›¶æ•£æ™šé—´ï¼‰ã€‚  
> æ¯ä¸€é‡Œç¨‹ç¢‘éƒ½ **ç‹¬ç«‹å¯éƒ¨ç½²**ã€é™„ **éªŒæ”¶è„šæœ¬**ã€**åšå®¢è®°å½•**ã€‚  
> â€œğŸ’¡Skillâ€ï¼æœ¬é˜¶æ®µä½ èƒ½å‘å¤–å®£ä¼ çš„æ–°æŠ€èƒ½/æˆæœï¼›â€œâ°é£æ§â€ï¼è‹¥è¶…æ—¶å¯åˆ å‡çš„æ¬¡è¦ä»»åŠ¡ã€‚

|é‡Œç¨‹ç¢‘|æ ¸å¿ƒç›®æ ‡|æ—¥å†é¢„ä¼°|ä»»åŠ¡æ‹†è§£|äº¤ä»˜ç‰© / éªŒæ”¶|ğŸ’¡Skill|â°é£æ§|
|---|---|---|---|---|---|---|
|**MVP-0**  <br>â€œä¼šè¯»ã€ä¼šä¸Šäº‘â€|å• Modbus é‡‡é›† â†’ MQTT 5 TLS ä¸Šäº‘|**0-12 å‘¨**|1. endpoint-kit(tcp/serial)  <br>2. static-modbus driver  <br>3. protobuf Frame + ring Bus  <br>4. MQTT5 connector  <br>5. docker-compose: PLC-sim + EMQX|â€¢ Git Tag v0.1 + Docker image  <br>â€¢ k6 å‹æµ‹ 5 k fps OK  <br>â€¢ åšå®¢ï¼šã€ŠRust å†™å·¥ä¸šé‡‡é›†ã€‹|Rust async IO, MQTT5, Prom metrics|æ¨è¿Ÿ TLSï¼ˆå…ˆæ˜æ–‡ï¼‰|
|**MVP-1**  <br>â€œå¤šåè®®çƒ­æ’â€|DynDriver + OPC UA Client è¯»å–|**13-16 å‘¨**|1. libloading/abi_stable loader  <br>2. driver-manager  <br>3. OPC UA `.so` build (open62541)  <br>4. bullets: inotify watch `.so`|â€¢ çƒ­æ’æ‹”æ¼”ç¤º Video  <br>â€¢ v0.2 release note|Rust FFI, dlopen, UA basics|UA åªè¯»å•èŠ‚ç‚¹|
|**MVP-2**  <br>â€œäº‘å†™ PLCâ€|CmdFrame + REST PUT|**17-24 å‘¨**|1. CmdFrame struct  <br>2. REST (warp) `PUT /tags/{tag}`  <br>3. Modbus write impl  <br>4. WAL offset ack / retry  <br>5. JWT middleware|â€¢ Postman è„šæœ¬ä¸€é”®å†™é˜€é—¨  <br>â€¢ GitHub CI e2e test|REST + Auth, RockDB WAL|æš‚ä¸å®ç° MQTT Cmd é€šé“|
|**MVP-3**  <br>â€œæ—§ SCADA ç»§ç»­è¯»â€|OPC UA Server å•å‘æ¡¥|**25-32 å‘¨**|1. BridgeDriver trait  <br>2. UA Server (open62541) expose 10 Tags  <br>3. address-gen yaml  <br>4. SCADA demo (UaExpert)|â€¢ æ—§ SCADA è¯»æ–° PLC æ¸©åº¦  <br>â€¢ è§†é¢‘+åšå®¢|OPC UA AddressSpace, bridge patterns|Tag ç¡¬ç¼–ç  10 ä¸ª|
|**MVP-4**  <br>â€œå¯æ˜ å°„ / åŒå‘æ¡¥â€|Mapping DSL + åŒå‘å†™|**33-44 å‘¨**|1. variables.yml + accesså­—æ®µ  <br>2. Lua eval engine  <br>3. Rule: UA Writeâ†’CmdFrame  <br>4. BridgeDriver write path  <br>5. Grafana dashboard latency|â€¢ 100 Tag è‡ªåŠ¨æ˜ å°„æˆåŠŸ  <br>â€¢ Unit test 100% pass  <br>â€¢ v0.4 release|LuaJIT, DSL parsing, Grafana|å¯æ¨è¿Ÿ Luaâ†’Lua-to-WASM|
|**MVP-5**  <br>â€œç”Ÿæ€é›å½¢â€|WASM Driver + æ’ä»¶ç­¾å|**45-56 å‘¨**|1. Wasmtime runtime + wasi preview2  <br>2. Go sample driver (IEC-104) â†’ wasm32  <br>3. SHA-256 + ed25519 verify  <br>4. WebConsole uploadé¡µé¢|â€¢ å¸‚åœºé¡µé¢ä¸Šä¼ é©±åŠ¨å¹¶è·‘é€š  <br>â€¢ v0.5 tag|WASI, Supply-chain security, SvelteKit|å¦‚æœå¡ï¼Œå…ˆè¡Œ WASM åªè¯»|

---

### æ¯å‘¨ Sprint æ¨¡æ¿

|å‘¨æœ« Slot|æ´»åŠ¨|
|---|---|
|**Sat AM**|é˜…è¯»æ ‡å‡†/åº“æºç  & è®¾è®¡æ¥å£|
|**Sat PM**|Coding / å•å…ƒæµ‹è¯•|
|**Sun AM**|é›†æˆæµ‹è¯• (docker-compose)|
|**Sun PM**|å†™å‘¨è®°åšå®¢ + æäº¤ PR + Tag|

---

### éªŒæ”¶è„šæœ¬ï¼ˆç¤ºä¾‹ MVP-0ï¼‰

bash

å¤åˆ¶ç¼–è¾‘

`# 1. å¯åŠ¨ PLC æ¨¡æ‹Ÿ + Gateway + MQTT docker-compose up -d plc-sim edge mqtt  # 2. ç”Ÿæˆ 1000 ç‚¹å‹æµ‹ python tools/flood_modbus.py --pps 500  # 3. è®¢é˜… MQTT ç»Ÿè®¡ mosquitto_sub -h localhost -t "gas/#" -C 10000  # 4. Check Prom metrics curl http://edge:9100/metrics | grep frame_latency`

---

### æŠ€èƒ½æ ˆç´¯è®¡è·¯çº¿

1. **Rust async** â†’ **FFI + C libs** â†’ **WASM ABI**
    
2. **Tokio / RocksDB internals**
    
3. **Industrial protocols** (Modbus/OPC UA/S7/IEC-104â€¦)
    
4. **Cloud funnels** (MQTT5/Kafka/gRPC-stream)
    
5. **Edge DevOps** (docker-compose â†’ k8s Helm â†’ OTA)
    

---

> **å°ç»“**  
> è¿™æ¡è·¯çº¿ä¿è¯ï¼š
> 
> - 3-4 æœˆå†…å°±æœ‰å¯æ¼”ç¤ºäº§å“ï¼›
>     
> - æ¯ 1-2 æœˆéƒ½æœ‰æ–°æŠ€èƒ½è¾“å‡ºï¼›
>     
> - ä»»ä½•é‡Œç¨‹ç¢‘çš†å¯â€œæ”¶å°¾äº¤ä»˜â€â€”â€”ä¸æ€•æ—¶é—´è¢«ç°å®åˆ‡æ–­ã€‚
>

## 4. æ ¸å¿ƒè·¯çº¿ï¼ˆé•¿æœŸç¨³å®šä»¶ï¼‰

1. **æ•°æ®å¥‘çº¦**ï¼šProtobuf `Frame` v1.x åªå¢å­—æ®µä¸åˆ æ”¹ã€‚  
2. **æ€»çº¿åè®®**ï¼šTokio broadcast in-procï¼›å¯å¹³æ»‘è¿ç§»åˆ° NATS JetStream â†’ å¤–éƒ¨åˆ†å¸ƒå¼ã€‚  
3. **é…ç½®ä¸‰è¡¨**ï¼šæ°¸ä¿åå‘å…¼å®¹ï¼›é™„ JSON-Schema ä½¿ UI è‡ªåŠ¨åŒ–ã€‚  
4. **æ’ä»¶ ABI**ï¼šDyn = `driver_api_version=1`; WASI = `edge-driver/0.2`; æœªæ¥åªå¢ç‰ˆæœ¬ä¸ç ´åã€‚

---

## 5. æ’ä»¶ / å®šåˆ¶çš„åä½œæ¨¡å¼
> ç›®æ ‡ï¼šä¸€çœ¼çœ‹æ¸… **â€œä»€ä¹ˆæ˜¯å¹³å°å†…æ ¸ï¼ˆCoreï¼‰â€”ç»ä¸ç¢ç‰‡åŒ–â€**ï¼Œ  
> ä»¥åŠ **â€œä»€ä¹ˆæ˜¯æ’ä»¶ï¼ˆExtensionï¼‰â€”ä»»ä½•äººéƒ½èƒ½å¢åˆ â€**ï¼›  
> è¿˜è¦è¯´æ˜ **ç›®å½•ç»“æ„ã€ABIã€åŠ è½½æµç¨‹ã€ç­¾åæ ¡éªŒã€ç‰ˆæœ¬å…¼å®¹** ç­‰è½åœ°ç»†èŠ‚ã€‚
---
### 5.1 è§’è‰²åˆ†å±‚æ€»è§ˆ

```mermaid
flowchart TB
    subgraph CORE
        EK[EndpointKit]
        DM[DriverManager]
        FB[Frame Bus & WAL]
        MAP[Mapper / Rule Engine]
        CFG[Config Center]
        OBS[Observability Kernel]
    end
    subgraph PLUGIN
        drvStatic[StaticDriver (built-in)]
        drvDyn[DynDriver (.so)]
        drvWasm[WasmDriver (.wasm)]
        bridge[BridgeDrv (OPC UA Srv)]
        connMQTT[Connector-MQTT]
        connKafka[Connector-Kafka]
        ruleLua[Ruleset-Lua]
    end
    EK --> DM
    DM --> FB
    FB --> connMQTT
    FB --> connKafka
    FB --> bridge
    FB --> ruleLua
    CFG --> DM
    CFG --> MAP
    CFG --> connMQTT
    OBS --> EVERYTHING

```

|å±‚|**æ ¸å¿ƒ (å¿…é¡»æœ‰)**|**æ’ä»¶ (æŒ‰éœ€è£…)**|
|---|---|---|
|**è¿æ¥å±‚**|EndpointKit|æ–°é“¾è·¯è£…é¥°å™¨ (e.g. `TsnDecorator`)|
|**åè®®å±‚**|DriverManager (ç©ºå£³)|`.so` / `.wasm` / static drivers|
|**æ•°æ®æ€»çº¿**|FrameBus + RocksDB WAL|N/Aï¼ˆå®ç°æ›¿æ¢å¯é€‰ï¼šNATSï¼‰|
|**è½¬æ¢/é€»è¾‘**|Mapper + Rule å¼•æ“|è§„åˆ™è„šæœ¬ / ONNX æ¨¡å‹|
|**åŒ—å‘/æ¡¥**|â€œç©ºâ€ Connector & Bridge Host|MQTT/Kafka/UA-Server ç­‰æ’ä»¶|
|**é…ç½®/è¿ç»´**|YAML loader + etcd watcher|WebConsole Plugin-UI Pane|
|**å¯è§‚æµ‹**|Metric registry + Log core|Grafana Dashboards (json)|

---

### 5.2 æ ¸å¿ƒç»„ä»¶â€”â€”â€œå¹³å° DNAâ€

|æ ¸å¿ƒ|ä¸å¯æ‹†ç¼˜ç”±|ä»£ç ç›®å½•|å‘å¸ƒç²’åº¦|
|---|---|---|---|
|**endpoint-kit**|ä¸€æ—¦æ‹†æ•£ï¼ŒTLS/TSN/æ± é€»è¾‘é‡å¤|`core/endpoint`|Crate + å•å…ƒæµ‹|
|**frame-bus**|å…¨ç³»ç»Ÿå•ä¸€æ•°æ®å…¬äº¤çº¿|`core/framebus`|Crate|
|**driver-manager**|ä¿è¯ç”Ÿå‘½å‘¨æœŸä¸€è‡´æ€§ / è‡ªæ„ˆ|`core/driver_mgr`|Crate|
|**mapper-core**|Mapping DSL è§£æ + çƒ­åŠ è½½|`core/mapper`|Crate|
|**config-core**|JSON-Schema æ ¡éªŒ + etcd diff|`core/config`|Crate|
|**obs-core**|metrics/log hookï¼Œæ’ä»¶å…±ç”¨|`core/obs`|Crate|

> **åŸåˆ™**ï¼šæ ¸å¿ƒåªä¾èµ– _Tokio + RocksDB + Prost + serde_ï¼Œæ— å¤–éƒ¨ C ä¾èµ–ï¼Œ  
> è®©äº¤å‰ç¼–è¯‘ & é•¿æœŸç»´æŠ¤æœ€å°åŒ–æˆæœ¬ã€‚

---

### 5.3 æ’ä»¶ç±»å‹ä¸äº¤äº’è§„èŒƒ

|ç±»å‹|äº¤äº’æ¥å£|å°è£…æ ¼å¼|ç‰ˆæœ¬çº¦å®š|å…¸å‹ç¤ºä¾‹|
|---|---|---|---|---|
|**Driver**|`trait Driver` (Rust) / WASI `edge-driver/0.2`|`libxxx.so` / `xxx.wasm` / static|`driver_api=1` symbol / wasm Interface Hash|`driver_modbus.so`, `iec104.wasm`|
|**Bridge**|`trait Bridge: Driver+ServerIfc`|`.so` / `.wasm`|åŒä¸Š + `listen=opc.tcp://â€¦`|`bridge_opcua.so`|
|**Connector**|`trait Connector::start(rx)`|`.so` / `.wasm`|`connector_api=1`|`connector_mqtt.so`|
|**RuleSet**|Lua / Wasm func `(frame)->Option<frame>`|`.lua` / `.wasm`|æ˜¾å¼ `version: x` header|`alarm_temp.lua`|
|**Decorators**|implement `EndpointDecorator`|Rust crate feature|SemVer|`tsn-decorator`|

#### æ’ä»¶æ¸…å• & å…ƒæ•°æ®

```toml
# drivers/driver_modbus/driver.toml
name   = "modbus"
kind   = "driver"
api    = 1
arch   = "x86_64-linux"
version= "0.1.3"
checksum = "sha256:abcd..."
schema = "driver.schema.json"

```

Manager åœ¨åŠ è½½æ—¶ï¼š

1. æ ¡éªŒ checksum / ç­¾å â†’ å¯ä¿¡æ€§
    
2. æ£€æŸ¥ `api` ä¸è¿è¡Œæ—¶åŒ¹é… â†’ å…¼å®¹æ€§
    
3. è§£æ `schema` â†’ ç”Ÿæˆ WebUI è¡¨å•
    

---

### 5.4 ç›®å½• & çƒ­æ’æ‹”æµç¨‹

```bash
/opt/edge/
 â”œâ”€ core                               (å›ºå®šäºŒè¿›åˆ¶/åº“)
 â”œâ”€ plugins/
 â”‚    â”œâ”€ drivers/driver_modbus.so
 â”‚    â”œâ”€ bridges/opcua_srv.so
 â”‚    â””â”€ connectors/mqtt5.so
 â”œâ”€ rules/
 â”‚    â””â”€ alarm_high.lua
 â””â”€ config/
      â”œâ”€ endpoints.yml
      â”œâ”€ drivers.yml
      â””â”€ variables.yml

```

**çƒ­åŠ è½½äº‹ä»¶åºåˆ—**

```mermaid
sequenceDiagram
    participant Console
    participant REST
    participant Manager
    participant DriverMgr
    Console->>REST: POST /upload driver_modbus.so
    REST-->>Manager: file saved
    Manager->>DriverMgr: load("driver_modbus.so")
    DriverMgr-->>Manager: OK(version=1)
    Manager-->>Console: success, visible in UI

```

---

### 5.5 å®‰å…¨ä¸ç‰ˆæœ¬æ²»ç†

|éœ€æ±‚|æœºåˆ¶|
|---|---|
|**éš”ç¦»**|Dyn æ’ä»¶åŒè¿›ç¨‹ï¼›WASM æ’ä»¶æ²™ç®±ï¼ˆCPU/å†…å­˜é™é¢ï¼‰ï¼›Bridge Server å¯å•ç‹¬å®¹å™¨|
|**ç­¾å**|`.sig` æ–‡ä»¶ (ed25519)ï¼›`edge verify plugin.so`|
|**å…¼å®¹**|Core å¢ `driver_api=2` æ—¶ä»ä¿ç•™ v1 shimï¼›æ’ä»¶å£°æ˜ min/max ç‰ˆæœ¬|
|**å›æ»š**|Manager ç»´æŠ¤ `plugins/.trash/2025-07-â€¦`ï¼›å¤±è´¥è‡ªåŠ¨å›æ»šæ—§æ–‡ä»¶|

---

### 5.6 æ’ä»¶å¼€å‘è€…æ—…ç¨‹

1. `cargo generate --git https://... driver-template`
    
2. å®ç° `read_loop(...)` & `write(...)`
    
3. `cargo build --release --lib` â†’ å¾—åˆ° `target/release/libmydrv.so`
    
4. `edge publish --sign <key>` ç”Ÿæˆ `.sig` + `toml`
    
5. è¿ç»´æ‹–è¿› WebConsoleï¼Œçƒ­æ’å³å¯

## 6. ä»ä¸ªäºº 10-20 å¹´è§†è§’çš„é‡Œç¨‹ç¢‘
> **å‡è®¾å‰æ**
> 
> - ä½ ä¿æŒä¸šä½™ 8-10 hï¼å‘¨æŒç»­æŠ•å…¥ï¼›å¯åœ¨å±€éƒ¨é˜¶æ®µæ‹‰ 1-2 ååä½œè€…ã€‚
>     
> - ä¸è¿½é£å£é¢‘ç¹è½¬å‘â€”â€”å§‹ç»ˆå›´ç»• _å·¥ä¸šç°åœºæ•°æ®ä»·å€¼é“¾_ã€‚
>     
> - â€œé‡Œç¨‹ç¢‘ï¼é˜¶æ®µæ€§åŒ—ææ˜Ÿâ€â€”â€”åˆ°è¾¾å³å¯åœæ»ã€æ”¶å‰²æˆ–è½¬è½¨ã€‚
>     

|æ—¶é—´çª—|æŠ€æœ¯é‡Œç¨‹ç¢‘ (å¹³å°æˆç†Ÿåº¦)|å•†ä¸š & å½±å“åŠ›é‡Œç¨‹ç¢‘|ä¸ªäººæˆé•¿ç›®æ ‡|å…³é”®é£é™© & ç¼“è§£|
|---|---|---|---|---|
|**0-2 å¹´**<br/>(2025-2027)|â€¢ æ ¸å¿ƒå†…æ ¸ L0-L4 ç¨³å®š<br/>â€¢ æ’ä»¶çƒ­æ’æ‹” (Dyn) ä¸ CmdFrame<br/>â€¢ 20+ åè®®é©±åŠ¨ï¼ˆ80 % å¸‚åœºè¦†ç›–ï¼‰|â€¢ é¦–æ‰¹ç«™åœº PoC â†’ æ”¶è´¹ç»´æŠ¤<br/>â€¢ GitHub â˜… > 200ï¼›åšå®¢ç³»åˆ—å®Œç»“<br/>â€¢ 3 å®¶ SIï¼ˆç³»ç»Ÿé›†æˆå•†ï¼‰ä½¿ç”¨|â€¢ Rust async / FFI å‚ç›´ä¸“å®¶<br/>â€¢ â€œå·¥ä¸šç½‘å…³â€ ä¸»é¢˜å¤§ä¼šæ¼”è®² 2 æ¬¡|â€¢ _Burnout_ï¼š<br/>â†’ é‡Œç¨‹ç¢‘åˆ¶ + å…¬å¼€å‘¨æŠ¥<br/>â€¢ _æŠ€æœ¯æ·±åº¦ä¸è¶³_ï¼š<br/>â†’ å‚åŠ  OPC UAã€IEC ä¼šè®®|
|**2-5 å¹´**<br/>(2027-2030)|â€¢ WASM é©±åŠ¨ç”Ÿæ€ + æ’ä»¶ç­¾å<br/>â€¢ Frame Bus å¯åˆ‡æ¢ NATS (åˆ†å¸ƒå¼) <br/>â€¢ L5 WebConsoleã€L6 Config Center k8s-native|â€¢ æ’ä»¶å¸‚é›† GMV ï¿¥50-100 ä¸‡/å¹´<br/>â€¢ åˆä½œä¼™ä¼´å‡º â€œç§æœ‰æ’ä»¶â€ â‰¥ 30 ä¸ª<br/>â€¢ ç¤¾åŒºæ´»è·ƒè´¡çŒ®è€… 20+|â€¢ å‡ºç‰ˆã€ŠRust Edge Gatewayã€‹<br/>â€¢ ä¸ªäººé¡¾é—®/åŸ¹è®­å¹´æ”¶å…¥ä¸æœ¬èŒæŒå¹³|â€¢ _ç»´æŠ¤è´Ÿè·çˆ†ç‚¸_ï¼š<br/>â†’ æ‰§è¡Œ â€œCore vs Pluginâ€ æ²»ç†<br/>â€¢ _èµ„é‡‘ä¸è¶³_ï¼š<br/>â†’ æ’ä»¶æŠ½ä½£ + å’¨è¯¢è¾“è¡€|
|**5-10 å¹´**<br/>(2030-2035)|â€¢ AI/ONNX Rule æ’ä»¶ & é¢„æµ‹æœåŠ¡<br/>â€¢ åŒæ´»ç«™åœºé›†ç¾¤ï¼›åŒ—å‘ SaaS é€‰é…<br/>â€¢ Cloud/Edge æ··åˆ DevOps (OTA, ç°åº¦)|â€¢ SaaS è®¢é˜… MRR â‰¥ ï¿¥20 ä¸‡<br/>â€¢ å…¬æœ‰/ç§æœ‰éƒ¨ç½²æ€»ç«™åœº > 500<br/>â€¢ ä¸ 3 å®¶ç¡¬ä»¶å‚å•†é¢„è£…åˆä½œ|â€¢ è½¬å‹ä¸ºâ€œæ¶æ„æ€»ç›‘ + ç¤¾åŒºé¢†è¢–â€<br/>â€¢ æ ¸å¿ƒè´¡çŒ®åº¦ < 50 % (æ›´å¤šæ¥è‡ªç¤¾åŒº)|â€¢ _ç”Ÿæ€åˆ†å‰_ï¼š<br/>â†’ åŸºäºæ’ä»¶ç­¾å & ç¨³å®š API ç®¡ç†<br/>â€¢ _æ³•å¾‹/å®‰å…¨åˆè§„_ï¼š<br/>â†’ å®‰æ’æ¸—é€æµ‹è¯•ã€SBOMã€SOC2|
|**10-20 å¹´**<br/>(2035-2045)|â€¢ å†…æ ¸è¿›å…¥â€œç»´æŠ¤æ¨¡å¼â€ (v3.x LTS)<br/>â€¢ å¯çƒ­æ’ AI-Agent é©±åŠ¨ (LLM-edge)<br/>â€¢ æ›¿æ¢ RocksDB â†’ Cloud-native log (Arrow Flight / DeltaLake) ä½† Frame å¥‘çº¦ä¸å˜|â€¢ æˆä¸º **äº‹å®æ ‡å‡†**ï¼šè¢«å·¥ä¸šåä¼šå¼•ç”¨<br/>â€¢ å¹´åº¦ç¤¾åŒºå¤§ä¼š 3000+ å‚ä¼š<br/>â€¢ å¯èƒ½çš„å•†ä¸šå‡ºå£ï¼š<br/>â€ƒÂ· è¢«å¤§å‹å·¥ä¸šè½¯ä»¶å…¬å¸æ”¶è´­<br/>â€ƒÂ· åŸºé‡‘ä¼šè¿ä½œï¼ˆLinux Found.ï¼‰|â€¢ ä¸ªäººå¯é€‰æ‹©ï¼š<br/>â€ƒ1) å®Œå…¨è½¬ç®¡ç† / æŠ•èµ„<br/>â€ƒ2) æ·±è€• AI-Edge å­æ–¹å‘|â€¢ _æŠ€æœ¯é™ˆæ—§_ï¼š<br/>â†’ å†…æ ¸å°è€Œç¨³ï¼›å¤–å›´å¯æ›¿æ¢<br/>â€¢ _ä¸ªäººè§’è‰²é”™ä½_ï¼š<br/>â†’ æå‰å»ºè®¾ç¤¾åŒºæ²»ç†ä¸æˆæƒ|

---

### 6.1 â€œé‡Œç¨‹ç¢‘å®Œæˆ â†’ å¯åœé â€ åˆ¤å®šè¡¨

|è§¦å‘æ¡ä»¶|å»ºè®®åŠ¨ä½œ|
|---|---|
|**PoC å•†ä¸šåŒ–ä½†æ— é¢å¤–èµ„æº**|åœåœ¨ MVP-2ï¼›ç»§ç»­æ”¶ç»´æŠ¤è´¹å³å¯|
|**ç¤¾åŒºå¤–éƒ¨ PR æŒç»­ > å†…éƒ¨æäº¤**|å‰¥ç¦»â€œCore å§”å‘˜ä¼šâ€ï¼ŒåŸ¹å…» Maintainer|
|**SaaS æ”¶ç›Š > å’¨è¯¢/å®šåˆ¶æ”¶ç›Š 3Ã—**|åŠ å¤§äº‘ä¾§æŠ•å…¥ï¼Œé™ä½æœ¬åœ°æ’ä»¶å¼€å‘|
|**ä¸ªäººæ—¶é—´ç¢ç‰‡åŒ–æ— æ³•æŒç»­**|å…¬å¸ƒè·¯çº¿å›¾ + ä¹¦é¢æ²»ç†ç« ç¨‹ï¼›äº¤ç”±ç¤¾åŒºé©±åŠ¨|

---

### 6.2 å…³é”®äº‹ä»¶æ—¶é—´è½´ï¼ˆç¤ºä¾‹ï¼‰

mermaid

å¤åˆ¶ç¼–è¾‘

`timeline     title Long-run Milestones     2025-07  MVP-0 å®Œæˆ     2026-01  GitHub 100â˜…     2026-04  MVP-2 ä¸Šçº¿é¦–ç«™     2027-07  æ’ä»¶ç­¾åå¸‚åœº v1     2028-11  ç¤¾åŒºè´¡çŒ®>50%     2030-03  SaaS MRR 20w     2032-06  Edge AI Rule æ’ä»¶     2035-12  v3 LTS.freeze()`

---

### 6.3 ä¸ªäººæŠ€èƒ½æ¼”è¿› â€œT å½¢å›¾â€

- **ç«–**ï¼šå·¥ä¸šåè®®è§£æ / Edge IoT / Rust æ·±åº¦
    
- **æ¨ª**ï¼šDevOps â†’ Cyber-security â†’ BizDev â†’ Community Gov.
    

æ¯å®Œæˆä¸€çº§é‡Œç¨‹ç¢‘ï¼Œå°±æŠŠç«–å‘å†æ·±æŒ–ä¸€ç‚¹ã€æ¨ªå‘å†åŠ ä¸€æ ¼ï¼›é¿å…è¿‡æ—©åšå®½ã€ä¸¢æ‰æ·±åº¦æ‹›ç‰Œã€‚

---

> **ç»“è®º**  
> è¿™æ¡ 20 å¹´è·¯çº¿æŠŠâ€œä¸ªäººâ€”æŠ€æœ¯â€”ç¤¾åŒºâ€”å•†ä¸šâ€ å››æ¡æ›²çº¿æ”¾åœ¨ **åŒä¸€åæ ‡ç³»**ï¼š
> 
> 1. ä»»ä¸€é˜¶æ®µéƒ½èƒ½â€œäº§å­¦ç ”â€ ä¸‰èµ¢ï¼›
>     
> 2. æ ¸å¿ƒå¥‘çº¦ (Frame) + æ’ä»¶æ²»ç† ä¿è¯å¯æ¼”è¿›ï¼›
>     
> 3. ä¸ªäººå§‹ç»ˆæœ‰ **å¯é€€å‡º / è½¬å‹ / å‡çº§** çš„èŠ‚ç‚¹ã€‚
>

