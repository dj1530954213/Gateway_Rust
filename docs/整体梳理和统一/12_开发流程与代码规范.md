# 开发流程与代码规范

## 分支与版本

- `main` 稳定，`feature/*` 开发，语义化版本（SemVer）

## 代码规范

- Rust：`rustfmt`、`clippy`、模块化、错误处理（`anyhow`/`thiserror`/`ApiError`）
- 日志：`tracing` 统一输出；避免在热路径频繁 `format!`
- DTO 与 Domain 分离，集中转换

## 提交流程

- PR 模板：需求、变更点、影响面、测试、回滚
- CI：构建、测试、lint、OpenAPI 生成/校验、容器镜像

## 测试

- 单元测试 + 集成测试（`tests/e2e/`）
- 验收脚本：健康、关键 REST、WS、前端无告警
